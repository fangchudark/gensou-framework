# 条件コマンド

**このドキュメントを読む前に、[変数コマンド](Variable.md)のドキュメントを先に読んでおくことをお勧めします。そうしないと、いくつかの内容が理解できないかもしれません。**

## 概要  

条件コマンドは、プレイヤーがゲームの中で遭遇するさまざまな状況に対応し、状況に応じて異なるコマンドを実行するために使用されます。

## 構文

- **[[コマンド] -when:[条件]](#コマンド--when条件)**

## 詳細

### **[コマンド] -when:[条件]**  

このコマンドは、指定された条件が満たされた場合に左側のコマンドを実行します。条件が満たされていない場合、コマンドはスキップされます。

条件は、ブール型の変数や条件式であることができます。

#### 条件がブール型変数の場合：

```gs
-a=true         |: ブール型変数aをtrueで定義
-b=false        |: ブール型変数bをfalseで定義
-a=10 -when:a   |: aには10が代入されます。aがtrue（真）だから
-a=100 -when:b  |: aには100が代入されません。bがfalse（偽）だから
```

#### 条件が条件式の場合：

```gs
-a=100 -when:1+1>2  |: aには100が代入されません。1+1は2より大きくないため、条件は成立しません
-a=100 -when:1+1==2 |: aには100が代入されます。1+1は2に等しいため、条件は成立します
-b=a -when:a>=100   |: bにはaの値が代入されます。aの値が100なので、条件は成立します
```

> #### **条件式演算子**
>
> - `>`  
> より大きい。左側の数が右側の数より大きい場合、条件は成立します。
>  
> - `<`  
> より小さい。左側の数が右側の数より小さい場合、条件は成立します。
>  
> - `==`  
> 等しい。左右の数が等しい場合、条件は成立します。
>  
> - `>=`  
> より大きいか等しい。左側の数が右側の数より大きいか等しい場合、条件は成立します。
>  
> - `<=`  
> より小さいか等しい。左側の数が右側の数より小さいか等しい場合、条件は成立します。
>  
> - `!=`  
> 等しくない。左右の数が異なる場合、条件は成立します。
>  
> 変数について、`==`と`!=`はすべての変数タイプと数式に使用できます。他の演算子は数値型の変数と数式にのみ適用されます。
>
> **条件式内では、二重引用符で囲まれた文字列のみが文字列として認識されます。**
> 
> **Genscriptは同じ型のオペランド同士のみ比較できます。**
>
> **ブール値と文字列は、`==`と`!=`演算子で同じ型の値とだけ比較できます。**
>
> ---
>
> #### **ブール変数を条件として使用する**
>
> ブール変数は、条件式の結果として `true`（真）または `false`（偽）のいずれかの値を持つ特別な変数です。
> 
> ブール変数が条件に使用されるとき、その値が `true` の場合、条件は成立し、`false` の場合、条件は成立しません。
> 
> ブール変数には、`==` と `!=` を使って明示的に値を比較することしかできません。それ以外の条件演算子はブール変数には使用できません。
> 
>> **`=` と `==` の違いに注意してください。`=` は代入、`==` は比較に使用されます。**